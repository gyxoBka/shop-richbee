const vModal=function(t){let e,n,o=!1,i=!1,s=!1;const d=function(t){const o=document.createElement("div");o.classList.add("vmodal");const i=(t.transition.time?t.transition.time:300)/1e3+"s";o.insertAdjacentHTML("afterbegin",`\n            <div class="vmodal__overlay" data-close="close" style="transition-duration:${i}"></div>\n            <div class="vmodal__container ${t.transition.type.length&&"vmodal__container--"+t.transition.type}" data-container>\n                <div class="vmodal__header">\n                    <div class="vmodal__title" data-title>${t.title||""}</div>\n\n                    ${!0===t.close||!0===t.close.isClose&&!t.close.element?'<div class="vmodal__close vmodal__close--text" data-close="close">&#215;</div>':t.close.isClose?t.close.element:""}\n                \n                </div>\n                <div class="vmodal__body" data-body>${t.content||""}</div>\n            </div>\n        `),e=o.querySelector(".vmodal__overlay"),n=o.querySelector("[data-container]"),0!==t.width.length&&(n.style.width=t.width);n.style.transitionDuration=i,t.margin&&(n.style.margin=t.margin);return a(t.footer).appendAfter(o.querySelector("[data-body]")),document.body.appendChild(o),o}(t);function a(t){if(0===t.length)return document.createElement("div");const e=document.createElement("div");return e.setAttribute("data-footer",""),e.classList.add("vmodal__footer"),l(e,t.addClass),t.buttons.forEach(t=>{const n=document.createElement("button");n.textContent=t.text,l(n,t.class),"function"==typeof t.handler&&(n.onclick=t.handler),e.appendChild(n)}),e}function r(){const t=d.querySelector("[data-footer]");t&&t.parentNode.removeChild(t)}function l(t,e){if(e&&0!==e.length){e=e.trim().split(" ");for(let n=0;n<e.length;n++)t.classList.add(e[n])}}function c(){const t=function(){const t=document.createElement("div");document.body.appendChild(t);const e=window.innerWidth-t.offsetWidth;return document.body.removeChild(t),e}();return t?(document.body.style.paddingRight=t+"px",t):(document.body.style.paddingRight="",t)}function m(t){window.innerHeight<n.offsetHeight?e.style.width=`calc(100% - ${t}px)`:e.style.width="100%"}const v={open(){if(i||s||o)return;s=!0;const e=c();d.classList.add("open"),t.transition.type.length&&d.classList.add("open-"+t.transition.type),document.body.style.overflow="hidden",setTimeout(()=>{m(e)},t.transition.time?t.transition.time:300),"function"==typeof t.onOpen&&t.onOpen()},close(){o=!0,d.classList.remove("open"),d.classList.add("hide"),t.transition.type.length&&(d.classList.remove("open-"+t.transition.type),d.classList.add("hide-"+t.transition.type)),setTimeout(()=>{o=!1,s=!1,document.body.style.paddingRight="",document.body.style.overflow="",d.classList.remove("hide"),t.transition.type.length&&d.classList.remove("hide-"+t.transition.type),"function"==typeof t.onClose&&t.onClose()},t.transition.time?t.transition.time:300)}},y=t=>{t.target.getAttribute("data-close")&&v.close()},u=t=>{if(s){m(c())}};return window.addEventListener("resize",u,!0),t.close.isCloseDisabled||d.addEventListener("click",y),Object.assign(v,{destroy(){d.parentNode.removeChild(d),d.removeEventListener("click",y),window.removeEventListener("resize",u),i=!0},setContent(t){d.querySelector("[data-body]").innerHTML=t},setTitle(t){d.querySelector("[data-title]").innerHTML=t},setButtons(e){r(),t.footer.buttons=e,footer=a(t.footer),footer.appendAfter(d.querySelector("[data-body]"))},setTransition(e){s||(e=e.trim(),t.transition.type.length&&n.classList.remove("vmodal__container--"+t.transition.type),t.transition.type=e,e.length&&n.classList.add("vmodal__container--"+t.transition.type))},removeFooter(){r()},getModalNode:()=>d,setModalCentered(e){t.modalCentered=e}})};Element.prototype.appendAfter=function(t){t.parentNode.insertBefore(this,t.nextSibling)},window.vModal=vModal;